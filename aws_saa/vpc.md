# Virtual Private Cloud

- ユーザー専用のプライベートなクラウド環境を提供する
- ネットワーク環境を簡単にカスタマイズできる
- 仮想的な自社専用領域
- 同一リージョン内ではVPCは複数のAZにリソースを含めることができる
- VPCとサブネットの組み合わせでネットワーク空間を構築する
- VPCはサブネットとのセットが必須

## 設定手順

CIDR（サイダー）方式でアドレスストレージを選択 -> AZのサブネットを選択 -> インターネット経路を選択 -> VPCへのトラフィック許可の設定

### IPアドレス

- 3桁（0〜255）×4つの組み合わせで、各桁が8つのバイナリ値の集合を表す

### CIDR (Classless Inter0Domain Routing)

- サブネットマスクの値を設定し、同じネットワークとして扱うIPアドレスの個体を調整できるIPアドレスの設定方法
- 「VPCを設定したら何個IPアドレスを設定できるのか」という設定

`196.51.100.XXX/16`

- 左から16桁目までが同じネットワーク範囲と指定
- 左16桁分が利用できないようにロックされて変更不可となる

`10.0.0.255/16` の場合  
`[00001010].[00000000].0.255/16`

- ロックされていない16桁分のビットの間が有効なIPをアドレスとして活用できる

`10.0.0.255/16` の場合  
`10.0.[00000000].[11111111]/16`

- 最小値

`10.0.0.0`

- 最大値

`10.0.255.255`

- IPアドレスの範囲は今後の拡張も踏まえて十分な余裕がありつつ、多すぎないレンジを指定する

16で設定するのが無難  
`10.0.0.255/16（推奨レンジ[65,534アドレス]）`

- VPCは /16~/28 のCIDR範囲を使用できる
- すでに利用されているなどして設定できないアドレスもある（/24の場合）

| ホストアドレス | 用途                   |
| ------- | -------------------- |
| .0      | ネットワークアドレス           |
| .1      | VPCルータ               |
| .2      | Amazonが提供しているDNSサービス |
| .3      | AWSで予約されているアドレス      |
| .255    | ブロードキャストアドレス         |
|         |                      |

